\subsubsubsection{List user cards}

% the description of the resource

This endpoint will list the user credit cards.

\begin{itemize}
    \item \textbf{URL:} \\\\\texttt{/user/cards}
    \item \textbf{Method:} \\\\\texttt{GET}
    \item \textbf{URL Parameters:} \\\\None
    \item \textbf{Data Parameters:} \\\\None
    \item \textbf{Success Response:}
		\begin{itemize}
			\item[$\circ$] \textbf{Code:} 200 OK
			\item[] \textbf{Content:}
			\medskip
			\begin{lstlisting}[language=json]
{
    "cards": [
        {
            "acss_debit": null,
            "affirm": null,
            "afterpay_clearpay": null,
            "alipay": null,
            "amazon_pay": null,
            "au_becs_debit": null,
            "bacs_debit": null,
            "bancontact": null,
            "billing_details": {
                "address": {
                    "city": null,
                    "country": null,
                    "line1": null,
                    "line2": null,
                    "postal_code": null,
                    "state": null
                },
                "email": null,
                "name": null,
                "phone": null
            },
            "blik": null,
            "boleto": null,
            "card": {
                "brand": "visa",
                "checks": {
                    "address_line1_check": null,
                    "address_postal_code_check": null,
                    "cvc_check": "pass"
                },
                "country": "GB",
                "description": null,
                "display_brand": "visa",
                "exp_month": 12,
                "exp_year": 2025,
                "fingerprint": "40woMAkf0kx6deDl",
                "funding": "credit",
                "iin": null,
                "issuer": null,
                "last4": "0000",
                "networks": {
                    "available": [
                        "visa"
                    ],
                    "preferred": null
                },
                "three_d_secure_usage": {
                    "supported": true
                },
                "wallet": null
            },
            "card_present": null,
            "cashapp": null,
            "created": 1713292426,
            "customer": "cus_Pw8rJngyzWNrfy",
            "customer_balance": null,
            "eps": null,
            "fpx": null,
            "giropay": null,
            "grabpay": null,
            "id": "pm_1P6GpCIlIIouy5CbqMLLY0go",
            "ideal": null,
            "interac_present": null,
            "klarna": null,
            "konbini": null,
            "link": null,
            "livemode": false,
            "metadata": {},
            "mobilepay": null,
            "object": "payment_method",
            "oxxo": null,
            "p24": null,
            "paynow": null,
            "paypal": null,
            "pix": null,
            "promptpay": null,
            "radar_options": {
                "session": null
            },
            "revolut_pay": null,
            "sepa_debit": null,
            "sofort": null,
            "swish": null,
            "type": "card",
            "us_bank_account": null,
            "wechat_pay": null,
            "zip": null
        }
    ]
}
			\end{lstlisting}
		\end{itemize}
	   \item \textbf{Error Responses:}
    	\begin{itemize}
			\item[$\circ$] \textbf{Code:} 401 Unauthorized
			\item[] \textbf{Content:}
			\begin{lstlisting}[language=json]
    {
        "message": {
            "message": "Cannot authenticate the user.",
            "error-code": "EF00",
            "error-details": "No authorization header sent."
        }
    }
			\end{lstlisting}
		\end{itemize}
    	\begin{itemize}
			\item[$\circ$] \textbf{Code:} 401 Unauthorized
			\item[] \textbf{Content:}
			\begin{lstlisting}[language=json]
	{
        "message": {
            "message": "Cannot authenticate the user.",
            "error-code": "EF00",
            "error-details": "Invalid JWT."
        }
    }			
			\end{lstlisting}
		\end{itemize}
    	\begin{itemize}
			\item[$\circ$] \textbf{Code:} 500 Internal Server Error
			\item[] \textbf{Content:}
			\begin{lstlisting}[language=json]
	{
        "message": {
            "message": "Fatal error while retrieving user.",
            "error-code": "ED00",
            "error-details": "Cannot retrieve the user: Unexpected db error."
        }
    }			
			\end{lstlisting}
		\end{itemize}
    	\begin{itemize}
			\item[$\circ$] \textbf{Code:} 500 Internal Server Error
			\item[] \textbf{Content:}
			\begin{lstlisting}[language=json]
	{
        "message": {
            "message": "Cannot retrieve the user payment methods.",
            "error-code": "ES00",
            "error-details": "Cannot retrieve the user payment methods."
        }
    }			
			\end{lstlisting}
		\end{itemize}				
    \item \textbf{Sample Call:}
		\begin{lstlisting}[language=json]		
    var settings = {
      "url": "http://localhost/pl8s/rest/user/cards",
      "method": "GET",
      "timeout": 0,
      "headers": {
        "Authorization": "Bearer eyJhcHAiOiJQTDhTIiwiYWxnIjoiSFM1MTIifQ.eyJ1aWQiOjMsInJvbCI6ImN1c3RvbWVyIi wic3R yIjoiY3VzX1B3OHJKbmd5eldOcmZ5IiwiZGF0IjoxNzE0MzI5NTYzODk1fQ.dy9GSq4 X3sGora MkCnvD4bZdtlPtiMjBpPxdN6Ul2I5tgreCK_pRn6K0UXe2AXIp3XMQ4p-W9AJ8W79 vtFdLng"
      },
    };

    $.ajax(settings).done(function (response) {
      console.log(response);
    });
	\end{lstlisting}
  \end{itemize}		
